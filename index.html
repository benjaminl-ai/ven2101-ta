<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Influencer Master - Pro Version</title>
    <style>
        :root {
            --primary: #6c5ce7; --secondary: #a29bfe; --accent: #fdcb6e;
            --success: #00b894; --danger: #d63031; --bg: #f0f3f7;
        }
        body { font-family: 'Poppins', 'Segoe UI', sans-serif; background: var(--bg); margin: 0; color: #2d3436; }
        
        /* é ‚éƒ¨å°èˆªèˆ‡ç”¢å“é¸æ“‡ */
        .header { background: white; padding: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); text-align: center; }
        .product-nav { display: flex; overflow-x: auto; gap: 10px; padding: 15px; background: #fff; border-top: 1px solid #eee; scrollbar-width: none; }
        .product-nav::-webkit-scrollbar { display: none; }
        .chip { padding: 10px 20px; border-radius: 25px; border: 2px solid var(--secondary); color: var(--primary); font-weight: bold; cursor: pointer; white-space: nowrap; transition: 0.3s; }
        .chip.active { background: var(--primary); color: white; border-color: var(--primary); box-shadow: 0 4px 10px rgba(108, 92, 231, 0.3); }

        /* é€²åº¦æ¢ */
        .progress-container { width: 90%; max-width: 500px; margin: 20px auto; height: 10px; background: #dfe6e9; border-radius: 5px; }
        .progress-bar { height: 100%; background: linear-gradient(to right, var(--secondary), var(--primary)); width: 0%; border-radius: 5px; transition: 0.5s; }

        /* éŠæˆ²å¡ç‰‡å€åŸŸ */
        .stage { max-width: 500px; margin: auto; padding: 10px; }
        .page { display: none; }
        .page.active { display: block; animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        
        .card { background: white; border-radius: 25px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); border: 1px solid #eee; text-align: center; }
        .step-label { font-size: 0.8rem; color: var(--secondary); text-transform: uppercase; letter-spacing: 2px; font-weight: bold; margin-bottom: 15px; }
        .eng-box { font-size: 1.4rem; font-weight: bold; color: #2d3436; margin-bottom: 10px; line-height: 1.4; }
        .chi-box { font-size: 1rem; color: #b2bec3; margin-bottom: 25px; }

        .btn-group { display: flex; gap: 10px; }
        .btn { flex: 1; border: none; padding: 15px; border-radius: 18px; font-size: 1rem; font-weight: bold; cursor: pointer; transition: 0.2s; }
        .btn-audio { background: #f1f2f6; color: var(--primary); }
        .btn-mic { background: var(--primary); color: white; box-shadow: 0 5px 15px rgba(108, 92, 231, 0.3); }
        .btn-mic.recording { background: var(--danger); animation: pulse 1s infinite; }

        /* åº•éƒ¨å°èˆª */
        .footer-nav { position: fixed; bottom: 20px; width: 100%; display: flex; justify-content: center; gap: 20px; }
        .btn-nav { background: white; border: none; padding: 10px 25px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); font-weight: bold; color: #636e72; cursor: pointer; }
        .btn-nav:disabled { opacity: 0.5; }

        /* æ™ºèƒ½æç¤ºå½ˆçª— */
        #feedback-pop { display: none; position: fixed; top: 40%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 30px; text-align: center; box-shadow: 0 0 50px rgba(0,0,0,0.2); z-index: 100; width: 70%; }
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 99; }

        @keyframes popIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(0.95); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

<div class="header">
    <h2 style="margin:0; color:var(--primary);">Influencer Master ğŸ¬</h2>
    <p style="font-size:0.8rem; color:#888;">é¸æ“‡ä½ æƒ³è©•æ¸¬çš„ç”¢å“ï¼Œé–‹å§‹æŒ‘æˆ°ï¼</p>
</div>

<div class="product-nav">
    <div class="chip active" onclick="setProduct('hairdryer', this)">é¢¨ç­’ ğŸŒ¬ï¸</div>
    <div class="chip" onclick="setProduct('camera', this)">ç›¸æ©Ÿ ğŸ“¸</div>
    <div class="chip" onclick="setProduct('smartwatch', this)">æ‰‹éŒ¶ âŒš</div>
    <div class="chip" onclick="setProduct('robot', this)">æ©Ÿæ¢°äºº ğŸ¤–</div>
</div>

<div class="progress-container"><div class="progress-bar" id="pBar"></div></div>

<div class="stage" id="app">
    <div class="page active" id="p0">
        <div class="card">
            <div class="step-label">Stage 1: Greeting</div>
            <div class="eng-box" id="eng-0">Welcome back to my channel!</div>
            <div class="chi-box" id="chi-0">æ­¡è¿å›åˆ°æˆ‘çš„é »é“ï¼</div>
            <div class="btn-group">
                <button class="btn btn-audio" onclick="playAudio()">ğŸ”Š Listen</button>
                <button class="btn btn-mic" onclick="startRecord(this)">ğŸ¤ Record</button>
            </div>
        </div>
    </div>
</div>

<div class="footer-nav">
    <button class="btn-nav" id="prevBtn" onclick="changePage(-1)" disabled>Back</button>
    <button class="btn-nav" id="nextBtn" onclick="changePage(1)" style="background:var(--primary); color:white;">Next</button>
</div>

<div class="overlay" id="overlay"></div>
<div id="feedback-pop">
    <div id="pop-icon" style="font-size:4rem;"></div>
    <h3 id="pop-title"></h3>
    <p id="pop-text" style="color:#666;"></p>
    <button class="btn btn-mic" onclick="closePop()">Continue ç¹¼çºŒ</button>
</div>

<script>
    let currentProd = 'hairdryer';
    let currentIndex = 0;

    const phrases = {
        greeting: [
            { eng: "Welcome back to my channel.", chi: "æ­¡è¿å›åˆ°æˆ‘çš„é »é“ã€‚" },
            { 
                hairdryer: { eng: "Today, I'm going to review the new Ionic hairdryer.", chi: "ä»Šå¤©æˆ‘æœƒè©•æ¸¬é€™æ¬¾è² é›¢å­é¢¨ç­’ã€‚" },
                camera: { eng: "Today, I'm going to review the new 4K Action Camera.", chi: "ä»Šå¤©æˆ‘æœƒè©•æ¸¬é€™æ¬¾ 4K é‹å‹•ç›¸æ©Ÿã€‚" },
                smartwatch: { eng: "Today, I'm going to review the latest Smartwatch.", chi: "ä»Šå¤©æˆ‘æœƒè©•æ¸¬é€™æ¬¾æœ€æ–°æ™ºèƒ½æ‰‹éŒ¶ã€‚" },
                robot: { eng: "Today, I'm going to review the Sunlight Floor Robot.", chi: "ä»Šå¤©æˆ‘æœƒè©•æ¸¬é€™æ¬¾ Sunlight æ‹–åœ°æ©Ÿæ¢°äººã€‚" }
            }
        ],
        features: [
            {
                hairdryer: { eng: "This hairdryer can keep your hair straight and soft.", chi: "é€™æ¬¾é¢¨ç­’å¯ä»¥è®“é ­é«®ä¿æŒç›´é †å’ŒæŸ”è»Ÿã€‚" },
                camera: { eng: "This camera has two built-in cameras and a timer.", chi: "ç›¸æ©Ÿå…§ç½®å…©å€‹é¡é ­å’Œè¨ˆæ™‚å™¨åŠŸèƒ½ã€‚" },
                smartwatch: { eng: "This watch features a high-speed heart rate sensor.", chi: "é€™æ¬¾æ‰‹éŒ¶é…å‚™é«˜é€Ÿå¿ƒç‡æ„Ÿæ¸¬å™¨ã€‚" },
                robot: { eng: "This floor cleaning robot is both a vacuum and a mop.", chi: "é€™æ¬¾æ©Ÿæ¢°äººåŒæ™‚å…·å‚™å¸å¡µå’Œæ‹–åœ°åŠŸèƒ½ã€‚" }
            },
            { eng: "It is easy to use and very powerful.", chi: "å®ƒä½¿ç”¨æ–¹ä¾¿ä¸”åŠŸèƒ½éå¸¸å¼·å¤§ã€‚" }
        ],
        howTo: [
            {
                hairdryer: { eng: "Simply touch 'set' on the screen to select the speed.", chi: "åªéœ€è§¸ç¢°å±å¹•ä¸Šçš„ 'set' éµå³å¯é¸æ“‡é¢¨é€Ÿã€‚" },
                camera: { eng: "Just press 'up' or 'down' on the remote to select the mode.", chi: "åªéœ€æŒ‰ä¸‹é™æ§å™¨çš„ä¸Šä¸‹éµå³å¯é¸æ“‡æ¨¡å¼ã€‚" },
                smartwatch: { eng: "Simply swipe left to check your daily steps.", chi: "åªéœ€å‘å·¦æ»‘å‹•å³å¯æª¢æŸ¥æ—¥å¸¸æ­¥æ•¸ã€‚" },
                robot: { eng: "Turn the red knob to select the cleaning mode.", chi: "è½‰å‹•ç´…è‰²æ—‹éˆ•ä¾†é¸æ“‡æ¸…æ½”æ¨¡å¼ã€‚" }
            }
        ],
        review: [
            { eng: "To me, this is the best value for money product.", chi: "å°æˆ‘ä¾†èªªï¼Œé€™æ˜¯æ€§åƒ¹æ¯”æœ€é«˜çš„ç”¢å“ã€‚" },
            { eng: "I am very satisfied with the results.", chi: "æˆ‘å°è©•æ¸¬çµæœæ„Ÿåˆ°éå¸¸æ»¿æ„ã€‚" }
        ],
        cta: [
            { eng: "Click the link below and enter my promo code.", chi: "é»æ“Šä¸‹æ–¹é€£çµä¸¦è¼¸å…¥æˆ‘çš„å„ªæƒ ç¢¼ã€‚" },
            { eng: "Give it a like and subscribe to the channel.", chi: "è«‹é»è®šä¸¦è¨‚é–±æˆ‘çš„é »é“ã€‚" }
        ]
    };

    // æŠŠæ‰€æœ‰éƒ¨åˆ†åˆä½µæˆä¸€å€‹åˆ—è¡¨ï¼Œæ–¹ä¾¿åˆ†é 
    let activeList = [];

    function setProduct(p, btn) {
        currentProd = p;
        document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
        btn.classList.add('active');
        currentIndex = 0;
        updateContent();
    }

    function updateContent() {
        activeList = [];
        const sections = ['greeting', 'features', 'howTo', 'review', 'cta'];
        sections.forEach(s => {
            phrases[s].forEach(item => {
                if (item[currentProd]) activeList.push(item[currentProd]);
                else activeList.push(item);
            });
        });
        render();
    }

    function render() {
        const item = activeList[currentIndex];
        document.getElementById('eng-0').innerText = item.eng;
        document.getElementById('chi-0').innerText = item.chi;
        document.getElementById('pBar').style.width = ((currentIndex + 1) / activeList.length * 100) + '%';
        document.getElementById('prevBtn').disabled = currentIndex === 0;
        document.getElementById('nextBtn').innerText = currentIndex === activeList.length - 1 ? "Finish ğŸ" : "Next Page";
    }

    function changePage(step) {
        currentIndex += step;
        if (currentIndex >= activeList.length) {
            showPop("Mission Complete!", "ğŸ†", "ä½ å·²ç¶“å®Œæˆæ‰€æœ‰ Influencer ç·´ç¿’ï¼ä½ ç¾åœ¨æº–å‚™å¥½å»éŒ„ç‰‡å•¦ï¼");
            currentIndex = 0;
        }
        render();
    }

    function playAudio() {
        const msg = new SpeechSynthesisUtterance(activeList[currentIndex].eng);
        msg.lang = 'en-US';
        msg.rate = 0.85;
        window.speechSynthesis.speak(msg);
    }

    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();
    recognition.lang = 'en-US';

    function startRecord(btn) {
        btn.innerText = "Listening... ğŸ‘‚";
        btn.classList.add('recording');
        recognition.start();

        recognition.onresult = (e) => {
            const result = e.results[0][0].transcript.toLowerCase();
            const target = activeList[currentIndex].eng.toLowerCase().replace(/[.,!?'"]/g, "");
            btn.innerText = "ğŸ¤ Record";
            btn.classList.remove('recording');

            if (result.includes(target) || target.includes(result)) {
                showPop("Excellent! ğŸ‰", "ğŸŒŸ", `ä½ è®€å¾—å¥½æº–ï¼š "${result}"`);
            } else {
                showPop("Try Again!", "ğŸ’ª", `ä½ å‰›æ‰è®€äº†ï¼š "${result}" \n è²¼å£«ï¼šè©¦ä¸‹è®€å¾—æ¸…æ¥šå•²ï¼`);
            }
        };
    }

    function showPop(title, icon, text) {
        document.getElementById('pop-title').innerText = title;
        document.getElementById('pop-icon').innerText = icon;
        document.getElementById('pop-text').innerText = text;
        document.getElementById('overlay').style.display = 'block';
        document.getElementById('feedback-pop').style.display = 'block';
    }

    function closePop() {
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('feedback-pop').style.display = 'none';
    }

    // Initialize
    updateContent();
</script>

</body>
</html>
