<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VEN2101 Influencer Master Pro</title>
    <style>
        :root {
            --primary: #6c5ce7; --secondary: #a29bfe; --bg: #f4f7f6;
            --success: #00b894; --danger: #d63031; --dark: #2d3436;
        }
        body { font-family: 'Poppins', 'Helvetica Neue', Arial, sans-serif; background: var(--bg); margin: 0; color: var(--dark); }
        
        /* é é¢åˆ‡æ› / Page Toggles */
        .page { display: none; padding: 20px; animation: fadeIn 0.4s; }
        .page.active { display: block; }

        /* é¦–é  / Welcome Screen */
        .welcome-screen { text-align: center; padding: 50px 20px; }
        .product-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 30px; }
        .prod-card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); cursor: pointer; transition: 0.3s; border: 2px solid transparent; }
        .prod-card:hover { border-color: var(--primary); transform: translateY(-5px); }
        .prod-card i { font-size: 3rem; display: block; margin-bottom: 10px; }

        /* ç·´ç¿’å€ / Practice Area */
        .practice-header { background: white; padding: 15px 20px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; sticky: top; }
        .current-product-tag { background: var(--primary); color: white; padding: 5px 15px; border-radius: 15px; font-weight: bold; font-size: 0.9rem; }
        
        .card { background: white; border-radius: 20px; padding: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); margin-bottom: 20px; }
        .eng { font-size: 1.1rem; font-weight: bold; margin-bottom: 8px; line-height: 1.4; color: #000; }
        .chi { font-size: 0.9rem; color: #636e72; margin-bottom: 15px; }

        .btn-group { display: flex; gap: 10px; }
        .btn { flex: 1; border: none; padding: 12px; border-radius: 12px; font-weight: bold; cursor: pointer; transition: 0.2s; }
        .btn-listen { background: #f1f2f6; color: var(--primary); }
        .btn-mic { background: var(--primary); color: white; }
        .btn-mic.recording { background: var(--danger); animation: pulse 1s infinite; }

        /* å°èˆª / Navigation */
        .nav-footer { display: flex; justify-content: space-between; margin-top: 20px; padding-bottom: 40px; }
        .btn-nav { background: var(--dark); color: white; border: none; padding: 12px 25px; border-radius: 12px; cursor: pointer; }
        .btn-nav:disabled { opacity: 0.3; }

        /* å½ˆçª— / Popup */
        #popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 30px; text-align: center; box-shadow: 0 0 50px rgba(0,0,0,0.2); z-index: 100; width: 80%; }
        .overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 99; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(0.98); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

<div id="page-welcome" class="page active">
    <div class="welcome-screen">
        <h1 style="color:var(--primary);">ğŸ¬ Influencer Master</h1>
        <p>Pick a product to start your speaking practice!<br>é¸æ“‡ä¸€å€‹ç”¢å“é–‹å§‹ç·´ç¿’ä½ çš„æ¼”èªªï¼</p>
        
        <div class="product-grid">
            <div class="prod-card" onclick="startApp('Ionic Hairdryer', 'ğŸŒ¬ï¸')">
                <i>ğŸŒ¬ï¸</i><strong>Ionic Hairdryer</strong>
            </div>
            <div class="prod-card" onclick="startApp('4K Action Camera', 'ğŸ“¸')">
                <i>ğŸ“¸</i><strong>4K Action Camera</strong>
            </div>
            <div class="prod-card" onclick="startApp('Smart Watch', 'âŒš')">
                <i>âŒš</i><strong>Smart Watch</strong>
            </div>
            <div class="prod-card" onclick="startApp('Cleaning Robot', 'ğŸ¤–')">
                <i>ğŸ¤–</i><strong>Cleaning Robot</strong>
            </div>
        </div>
    </div>
</div>

<div id="page-practice" class="page">
    <div class="practice-header">
        <span style="cursor:pointer; font-weight:bold; color:var(--primary);" onclick="goHome()">â† Home</span>
        <div class="current-product-tag" id="header-prod">PRODUCT: ---</div>
    </div>

    <div id="section-info" style="font-weight:bold; color:var(--primary); margin-bottom:10px; font-size:0.8rem;">STEP 1: GREETING</div>
    
    <div id="card-container"></div>

    <div class="nav-footer">
        <button class="btn-nav" id="btn-prev" onclick="moveSection(-1)">Previous / ä¸Šä¸€é </button>
        <button class="btn-nav" id="btn-next" onclick="moveSection(1)" style="background:var(--primary)">Next / ä¸‹ä¸€é </button>
    </div>
</div>

<div class="overlay" id="overlay" onclick="closePop()"></div>
<div id="popup">
    <div id="pop-icon" style="font-size:3rem;"></div>
    <h3 id="pop-title" style="margin:10px 0;"></h3>
    <p id="pop-text" style="color:#666;"></p>
    <button class="btn btn-mic" onclick="closePop()" style="margin-top:15px">Keep Going / ç¹¼çºŒ</button>
</div>

<script>
    let currentProd = "";
    let prodEmoji = "";
    let sectionIdx = 0;

    const sections = [
        {
            name: "Greeting & Intro / æ­¡è¿èˆ‡é–‹å ´",
            phrases: [
                { eng: "Welcome back to my channel.", chi: "æ­¡è¿å›åˆ°æˆ‘çš„é »é“ã€‚" },
                { eng: "Let's dive right into today's video!", chi: "è®“æˆ‘å€‘ç›´æ¥é€²å…¥ä»Šå¤©çš„å½±ç‰‡å§ï¼" },
                { eng: "Today, I'm going to review the new [PROD].", chi: "ä»Šå¤©æˆ‘è¦è©•æ¸¬é€™æ¬¾å…¨æ–°çš„ [PROD]ã€‚" }
            ]
        },
        {
            name: "Product Features / ç”¢å“ç‰¹é»",
            phrases: [
                { 
                    "Ionic Hairdryer": { eng: "This hairdryer can keep your hair straight and soft.", chi: "é€™æ¬¾é¢¨ç­’å¯ä»¥è®“ä½ çš„é ­é«®ä¿æŒç›´é †ä¸”æŸ”è»Ÿã€‚" },
                    "4K Action Camera": { eng: "This camera has two built-in cameras and supports 4K recording.", chi: "é€™æ¬¾ç›¸æ©Ÿå…§ç½®å…©å€‹é¡é ­ä¸¦æ”¯æŒ 4K éŒ„å½±ã€‚" },
                    "Smart Watch": { eng: "This watch features a high-speed heart rate sensor and a timer.", chi: "é€™æ¬¾æ‰‹éŒ¶å…·å‚™é«˜é€Ÿå¿ƒç‡æ„Ÿæ¸¬å™¨å’Œè¨ˆæ™‚åŠŸèƒ½ã€‚" },
                    "Cleaning Robot": { eng: "This floor cleaning robot is both a vacuum and a mop.", chi: "é€™æ¬¾æ‹–åœ°æ©Ÿæ¢°äººåŒæ™‚å…·å‚™å¸å¡µå’Œæ‹–åœ°åŠŸèƒ½ã€‚" }
                },
                { eng: "It is extremely powerful and lightweight.", chi: "å®ƒåŠŸèƒ½å¼·å¤§ä¸”éå¸¸è¼•å·§ã€‚" }
            ]
        },
        {
            name: "How to Use / å¦‚ä½•ä½¿ç”¨",
            phrases: [
                { 
                    "Ionic Hairdryer": { eng: "Simply touch 'set' on the touch screen to select your speed.", chi: "åªéœ€è¼•è§¸å±å¹•ä¸Šçš„ 'set' éµå³å¯é¸æ“‡é¢¨é€Ÿã€‚" },
                    "4K Action Camera": { eng: "Simply press 'up' or 'down' on the remote to select your mode.", chi: "åªéœ€æŒ‰ä¸‹é™æ§å™¨ä¸Šçš„ä¸Šä¸‹éµå³å¯é¸æ“‡æ¨¡å¼ã€‚" },
                    "Smart Watch": { eng: "Simply swipe left on the screen to check your daily steps.", chi: "åªéœ€åœ¨å±å¹•å‘å·¦æ»‘å‹•å³å¯æª¢æŸ¥æ—¥å¸¸æ­¥æ•¸ã€‚" },
                    "Cleaning Robot": { eng: "Just turn the red knob to select the cleaning mode you need.", chi: "åªéœ€è½‰å‹•ç´…è‰²æ—‹éˆ•å³å¯é¸æ“‡æ‰€éœ€çš„æ¸…æ½”æ¨¡å¼ã€‚" }
                }
            ]
        },
        {
            name: "Review & Call to Action / è©•æ¸¬èˆ‡è¡Œå‹•å‘¼ç±²",
            phrases: [
                { eng: "I think this product is worth every penny.", chi: "æˆ‘è¦ºå¾—é€™æ¬¾ç”¢å“ç‰©æœ‰æ‰€å€¼ã€‚" },
                { eng: "Enter my promo code to get a 20% discount.", chi: "è¼¸å…¥æˆ‘çš„å„ªæƒ ç¢¼å³å¯ç²å¾—å…«æŠ˜å„ªæƒ ã€‚" },
                { eng: "Click the link in the description below!", chi: "é»æ“Šä¸‹æ–¹è³‡è¨Šæ¬„çš„é€£çµå§ï¼" }
            ]
        },
        {
            name: "Final Challenge: Full Script / çµ‚æ¥µæŒ‘æˆ°ï¼šå®Œæ•´è¬›ç¨¿",
            isFinal: true
        }
    ];

    function startApp(prod, emoji) {
        currentProd = prod;
        prodEmoji = emoji;
        sectionIdx = 0;
        document.getElementById('header-prod').innerText = `${prodEmoji} ${prod}`;
        document.getElementById('page-welcome').classList.remove('active');
        document.getElementById('page-practice').classList.add('active');
        render();
    }

    function render() {
        const section = sections[sectionIdx];
        document.getElementById('section-info').innerText = `STEP ${sectionIdx + 1}/5: ${section.name}`;
        const container = document.getElementById('card-container');
        container.innerHTML = "";

        if (section.isFinal) {
            renderFinalChallenge();
            return;
        }

        section.phrases.forEach(p => {
            let data = p[currentProd] ? p[currentProd] : p;
            let text = data.eng.replace("[PROD]", currentProd);
            
            const card = document.createElement('div');
            card.className = "card";
            card.innerHTML = `
                <div class="eng">${text}</div>
                <div class="chi">${data.chi}</div>
                <div class="btn-group">
                    <button class="btn btn-listen" onclick="speak('${text.replace(/'/g, "\\'")}')">ğŸ”Š Listen / è½</button>
                    <button class="btn btn-mic" onclick="handleRecord('${text.replace(/'/g, "\\'")}', this)">ğŸ¤ Record / è®€</button>
                </div>
            `;
            container.appendChild(card);
        });

        document.getElementById('btn-prev').disabled = sectionIdx === 0;
        document.getElementById('btn-next').innerText = "Next / ä¸‹ä¸€é ";
    }

    function renderFinalChallenge() {
        const container = document.getElementById('card-container');
        const fullScript = `Welcome back to my channel. Today, I'm going to review the new ${currentProd}. It is very powerful and lightweight. Simply follow the instructions to use it. I think this product is worth every penny. Enter my promo code to get a discount. Thanks for watching!`;
        
        container.innerHTML = `
            <div class="card" style="border: 2px solid var(--primary);">
                <div style="color:var(--primary); font-weight:bold; margin-bottom:10px;">ğŸŒŸ FINAL CHALLENGE: Read the whole script!</div>
                <div class="eng" style="font-size:1.2rem; background:#f9f9f9; padding:15px; border-radius:10px;">${fullScript}</div>
                <div class="chi" style="margin-top:10px;">è©¦è‘—ä¸€å£æ°£è®€å‡ºæ•´æ®µè¬›ç¨¿ï¼Œå±•ç¾ä½ çš„ Influencer å¯¦åŠ›ï¼</div>
                <div class="btn-group">
                    <button class="btn btn-listen" onclick="speak('${fullScript.replace(/'/g, "\\'")}')">ğŸ”Š Listen Full</button>
                    <button class="btn btn-mic" onclick="handleRecord('${fullScript.replace(/'/g, "\\'")}', this)">ğŸ¤ Record Full Script</button>
                </div>
            </div>
        `;
        document.getElementById('btn-next').innerText = "Finish / å®Œæˆ";
    }

    function moveSection(step) {
        sectionIdx += step;
        if (sectionIdx >= sections.length) {
            showPop("Congratulations! ğŸ†", "ğŸ‰", "You have mastered the " + currentProd + " product review!");
            goHome();
        } else {
            render();
            window.scrollTo(0,0);
        }
    }

    function speak(t) {
        const m = new SpeechSynthesisUtterance(t);
        m.lang = 'en-US'; m.rate = 0.85;
        window.speechSynthesis.speak(m);
    }

    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();
    recognition.lang = 'en-US';

    function handleRecord(target, btn) {
        btn.innerText = "Listening... ğŸ‘‚";
        btn.classList.add('recording');
        recognition.start();

        recognition.onresult = (e) => {
            const result = e.results[0][0].transcript.toLowerCase();
            btn.innerText = "ğŸ¤ Record / è®€";
            btn.classList.remove('recording');

            if (result.length > 5) {
                showPop("Good Job! ğŸ‘", "â­", `You said: "${result}"`);
            } else {
                showPop("Try Again!", "ğŸ’ª", "Try to speak louder and clearer.");
            }
        };
    }

    function showPop(title, icon, text) {
        document.getElementById('pop-title').innerText = title;
        document.getElementById('pop-icon').innerText = icon;
        document.getElementById('pop-text').innerText = text;
        document.getElementById('overlay').style.display = 'block';
        document.getElementById('popup').style.display = 'block';
    }

    function closePop() {
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('popup').style.display = 'none';
    }

    function goHome() {
        document.getElementById('page-practice').classList.remove('active');
        document.getElementById('page-welcome').classList.add('active');
    }
</script>

</body>
</html>
